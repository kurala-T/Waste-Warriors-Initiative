<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waste Warriors Initiative Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* UPDATED COLOR PALETTE: Using richer, contrasting greens */
        :root {
            --primary: #8BC34A; /* Light, vibrant green (used for counters, active elements) */
            --dark-green: #2E7D32; /* Deep, strong green (used for headers, primary text) */
            --secondary: #9ca3af;
            --background: #f9fafb;
            --text-dark: #1f2937;
            --text-light: #4b5563;
            --card-bg: #ffffff;
            --border-color: #d1d5db;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background);
            color: var(--text-dark);
            transition: background-color 0.5s ease;
            scroll-behavior: smooth;
        }

        .section-header {
            color: var(--dark-green); /* Using dark green for impact */
            font-weight: 800;
        }

        .scroll-reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.2, 0.8, 0.2, 1),
                        transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .scroll-reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: auto;
            height: 300px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 400px; }
        }

        /* Did You Know Pop-up */
        .did-you-know-popup {
            position: fixed;
            top: 20px;
            right: -350px;
            width: 300px;
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: right 0.8s ease-in-out;
            z-index: 1000;
        }
        .did-you-know-popup.show { right: 20px; }
        .did-you-know-popup .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-light);
        }
        
        /* Top Navigation */
        .top-nav {
            position: fixed;
            top: 0; left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            z-index: 50;
        }
        .nav-link {
            padding: 8px 16px;
            border-radius: 9999px;
            transition: all 0.3s ease;
            cursor: pointer;
            font-weight: 600;
        }
        .nav-link:hover {
            background-color: #e5e7eb;
            color: var(--dark-green);
        }
        .nav-link.active {
            background-color: #e8f5e9; /* Light green background */
            color: var(--dark-green);
        }
        
        /* Phase Card Active */
        .phase-card.active {
            border-color: var(--primary);
            background-color: #f1f8e9; /* Very light green */
            transform: scale(1.02);
        }

        /* Style for Completed Phase */
        .phase-card.completed {
            border-color: #4CAF50; /* Primary green border for completed */
            background-color: #e8f5e9; /* Very light green bg */
            opacity: 0.9;
            box-shadow: none;
            cursor: default;
        }
        .phase-card.completed:hover {
            transform: none;
            box-shadow: none;
        }
        
        /* Leaderboard Hover */
        #leaderboard-placeholder tr:hover {
            background-color: #f3f4f6;
        }

        /* Modern marquee */
        .scrolling-text {
            overflow: hidden;
            white-space: nowrap;
            box-sizing: border-box;
        }
        .scrolling-text span {
            display: inline-block;
            padding-left: 100%;
            animation: scroll 15s linear infinite;
        }
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
    </style>
</head>
<body class="antialiased">

    <header class="top-nav">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <!-- LOGO INTEGRATION in NAV bar -->
            <div class="flex items-center space-x-2">
                <img src="https://raw.githubusercontent.com/kurala-T/Waste-Warriors-Initiative/main/w.w.i.l.png" alt="Waste Warriors Logo" class="h-8 w-8">
                <h1 class="text-xl md:text-2xl font-bold text-gray-800">Waste Warriors</h1>
            </div>
            <div class="hidden md:flex items-center space-x-2">
                <a class="nav-link" href="#overview" data-target="overview">Overview</a>
                <!-- UPDATED NAV LINK: Our Story -->
                <a class="nav-link" href="#ourstory" data-target="ourstory">Our Story</a>
                <a class="nav-link" href="#timeline" data-target="timeline">Our Plan</a>
                <a class="nav-link" href="#dashboard" data-target="dashboard">Dashboard</a>
                <!-- UPDATED NAV LINK: Competition -> Challenge -->
                <a class="nav-link" href="#competition" data-target="competition">Challenge</a>
                <a class="nav-link" href="#extras" data-target="extras">Extras</a>
            </div>
            <button id="menu-btn" class="md:hidden text-gray-700 text-2xl">‚ò∞</button>
        </nav>
        <div id="mobile-menu" class="hidden flex-col items-center space-y-2 pb-4 md:hidden">
            <a class="nav-link" href="#overview" data-target="overview">Overview</a>
            <!-- UPDATED MOBILE NAV LINK: Our Story -->
            <a class="nav-link" href="#ourstory" data-target="ourstory">Our Story</a>
            <a class="nav-link" href="#timeline" data-target="timeline">Our Plan</a>
            <a class="nav-link" href="#dashboard" data-target="dashboard">Dashboard</a>
            <!-- UPDATED MOBILE NAV LINK: Competition -> Challenge -->
            <a class="nav-link" href="#competition" data-target="competition">Challenge</a>
            <a class="nav-link" href="#extras" data-target="extras">Extras</a>
        </div>
    </header>

    <main class="container mx-auto p-4 sm:p-6 lg:p-12">
        <section id="overview" class="py-20 lg:py-32 text-center flex flex-col items-center justify-center min-h-screen scroll-reveal content-section active">
            <div class="scrolling-text text-3xl font-bold text-gray-400 mb-8">
                <!-- REVERTED MARQUEE: Back to simple message -->
                <span>Reduce, Reuse, Recycle! Hosted by Grade 7 Waste Warriors! Small actions make a big change ‚Äî so let‚Äôs be responsible, reuse, and recycle for a better future!</span>
            </div>
            
            <!-- REVERTED: Removed logo next to main heading -->
            <div class="flex items-center justify-center space-x-4">
                <h1 class="text-5xl md:text-7xl lg:text-8xl font-extrabold section-header leading-tight animate-pulse">
                    Waste Warriors Initiative
                </h1>
                <!-- Logo was removed here -->
            </div>
            <!-- REVERTED: End of main heading -->

            <!-- REVERTED OVERVIEW TEXT: Back to original purpose statement -->
            <p class="text-lg sm:text-xl lg:text-2xl mt-6 max-w-4xl mx-auto text-gray-500">
                A school-wide movement to create a more sustainable future, one kilogram at a time. This dashboard tracks our progress and celebrates our champions.
            </p>
            
            <!-- REMOVED SDG CONNECTION CARD FROM OVERVIEW -->
            

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center max-w-4xl mx-auto mt-12">
                <div class="card p-6 scroll-reveal">
                    <p class="text-3xl font-bold text-primary" data-count-to="15">0</p>
                    <p class="text-gray-400 font-semibold">Target Waste Reduction %</p>
                </div>
                <div class="card p-6 scroll-reveal">
                    <p id="total-paper-recycled" class="text-3xl font-bold text-primary" data-count-to="25">0</p>
                    <p class="text-gray-400 font-semibold">Paper Recycling Goal(kg)</p>
                </div>
                <div class="card p-6 scroll-reveal">
                    <!-- Value updated to 5 -->
                    <p class="text-3xl font-bold text-primary" data-count-to="5">0</p>
                    <p class="text-gray-400 font-semibold">Grades involved</p>
                </div>
            </div>
        </section>

        <!-- NEW OUR STORY SECTION -->
        <section id="ourstory" class="py-16 md:py-24 scroll-reveal content-section">
            <h2 class="text-4xl lg:text-5xl font-extrabold text-center section-header mb-12">Our Story & Team</h2>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <!-- STORY CONTENT (col-span-2) -->
                <div class="story-content bg-white p-8 rounded-lg shadow-lg col-span-1 lg:col-span-2 text-left">
                    <h3 class="text-3xl font-extrabold text-dark-green mb-6">Our Journey Begins: Harmony with Nature</h3>
                    
                    <!-- ADDED MOTIVATIONAL QUOTE -->
                    <p class="text-2xl font-bold text-primary italic mb-6">
                        "The smallest actions create the biggest change."
                    </p>
                    
                    <!-- INTRO SPEECH -->
                    <p class="mb-4 text-gray-700">
                         We are the students of Grade 7, and we have something very special planned ‚Äî a project that began as a discussion during the Value in Focus ‚Äì Harmony with Nature and has now grown into a school-wide movement!
                    </p>
                    <p class="mb-4 text-gray-700">
                        We realized that living in harmony with nature means taking care of the world around us ‚Äî not just in words, but through our daily actions. When we looked around, we noticed how much waste our school generates ‚Äî paper bits, snack wrappers, chart scraps, and so much more. So, we decided to take action and become Waste Warriors, launching the Waste Warriors Initiative, W.W.I for short!
                    </p>
                    <p class="mb-4 text-gray-700">
                        With the support of our teachers and housekeeping staff, we conducted a waste survey to understand what‚Äôs being thrown away and how we can do better. We learned that much of our waste can actually be reduced, reused, or recycled ‚Äî if we start being more mindful in our classrooms.
                    </p>
                    <p class="mb-4 text-gray-700">
                        Our mission is built on the 5Rs ‚Äî Refuse, Reduce, Reuse, Repurpose, and Recycle. To bring this to life, we‚Äôre launching the ‚ÄúClean Green Classroom Challenge‚Äù(CGCC) where every class will: Reduce waste generation, Segregate waste correctly, and Keep classrooms clean and eco-friendly.
                    </p>
                    <p class="mb-6 text-gray-700">
                        And here‚Äôs an exciting addition ‚Äî an Upcycling Challenge! Each class can create one artistic or useful item made entirely from classroom waste ‚Äî like paper sculptures, eco-decor, or reusable organizers. This will show how creativity can transform waste into wonder!
                    </p>

                    <!-- SDG CONNECTION CARD -->
                    <div class="card p-6 scroll-reveal mt-8 w-full text-left bg-gray-50 border-gray-200">
                        <h3 class="text-2xl font-bold text-dark-green mb-3">Our Mission & Global Impact (SDGs)</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700">
                            <div>
                                <p class="font-semibold text-lg mb-1">Clean Green Classroom Challenge Goals:</p>
                                <ul class="list-disc list-inside ml-4 space-y-1 text-sm">
                                    <li>Reduce waste generation.</li>
                                    <li>Segregate waste correctly.</li>
                                    <li>Keep classrooms clean and eco-friendly.</li>
                                    <li>Upcycling Challenge: Create one artistic or useful item made entirely from classroom waste.</li>
                                </ul>
                            </div>
                            <div>
                                <p class="font-semibold text-lg mb-1">United Nations Sustainable Development Goals:</p>
                                <ul class="list-disc list-inside ml-4 space-y-1 text-sm">
                                    <li>‚úÖ SDG 12: Responsible Consumption and Production</li>
                                    <li>‚úÖ SDG 13: Climate Action</li>
                                    <li>‚úÖ SDG 15: Life on Land</li>
                                    <li>‚úÖ SDG 4.7: Quality Education (Responsible Living)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- OUR TEAM CARD (Remains Col-span-1) -->
                <div class="card p-6 col-span-1 h-fit">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                        üë• Our Team
                    </h3>
                    <p class="text-gray-600 mb-4 italic">
                        Members: Tejas, Prithish, Manashvi, Oviyan, Shrawan, Joann, Liyana, Jesvanth, Diya, Sakethram, Tanvi, Pranavi, NIthila, Sai Vishnu, Varun, Dev
                    </p>
                    
                    <!-- Logo remains under the team list -->
                    <div class="flex justify-center mt-4">
                        <img src="https://raw.githubusercontent.com/kurala-T/Waste-Warriors-Initiative/main/w.w.i.l.png" alt="WWI Team Logo" class="h-20 w-20 opacity-70">
                    </div>
                    
                    <p class="text-sm text-gray-500 mt-4">
                        THE WASTE WARRIORS
                    </p>
                </div>
            </div>
        </section>
        <!-- END NEW OUR STORY SECTION -->


        <section id="timeline" class="py-16 md:py-24 scroll-reveal content-section">
            <h2 class="text-4xl lg:text-5xl font-extrabold text-center section-header mb-12">Our Plan</h2>
            <!-- UPDATED: Phase 1 is now marked as completed, Phase 2 is active -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <div class="phase-card card completed p-6 text-center" data-phase="1">
                    <h3 class="text-xl font-bold text-gray-800">‚úÖ Phase 1 (Completed)</h3>
                    <p class="text-sm text-gray-500 font-semibold mt-1">Preparation & Setup</p>
                </div>
                <div class="phase-card card active p-6 text-center" data-phase="2">
                    <h3 class="text-xl font-bold text-gray-800">Phase 2 (Week 2)</h3>
                    <p class="text-sm text-primary font-semibold mt-1">Implementation Kick-off</p>
                </div>
                <!-- Combined Phase 3 & 4 -->
                <div class="phase-card card p-6 text-center" data-phase="3">
                    <h3 class="text-xl font-bold text-gray-800">Phase 3 (Week 3)</h3>
                    <p class="text-sm text-primary font-semibold mt-1">Analysis & Conclusion</p>
                </div>
                <!-- Original Phase 4 Card REMOVED -->
            </div>
            <div id="phase-details" class="bg-white p-8 rounded-lg shadow-inner border">
            </div>
        </section>

        <section id="dashboard" class="py-16 md:py-24 scroll-reveal content-section">
             <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-2">Waste Tracking: Daily Progress</h2>
                <p class="text-lg text-gray-600">This chart shows our progress.<br> (Weekdays Only)</p>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-lg shadow-lg">
                <div class="chart-container">
                    <canvas id="wasteChart"></canvas>
                </div>
                <!-- REMOVED: Button container for showTotalBtn and showPaperBtn -->
                <div class="mt-6 flex justify-center space-x-4 hidden">
                    <button id="showTotalBtn" class="bg-red-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-red-700 transition">Total Waste</button>
                    <button id="showPaperBtn" class="bg-primary text-dark-green font-semibold py-2 px-4 rounded-lg shadow hover:bg-green-700 transition">Paper Waste Only</button>
                </div>
            </div>
        </section>

        <section id="competition" class="py-16 md:py-24 scroll-reveal content-section">
            <div class="text-center mb-8">
                <!-- UPDATED SECTION HEADING -->
                <h2 class="text-3xl font-bold text-gray-800 mb-2">Clean Green Classroom Challenge Results: Live Leaderboard</h2>
                <p class="text-lg text-gray-600">Classes of grades 6,7 and 8 are competing to be the Cleanest Greenest Classroom! Winners are chosen based on waste reduction, recycling accuracy, and innovative ideas.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-bold text-dark-green mb-4">Challenge Rules </h3>
                    
                    <!-- NEW STRUCTURE START -->
                    <h4 class="text-xl font-bold text-gray-800 mb-2">Scoring Categories</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-700 mb-4 ml-4">
                        <li><strong>Total Waste Reduction (from previous day):</strong> 30 pts</li>
                        <li><strong>Paper Segregation:</strong> 10 pts</li>
                        <li><strong>Creative Upcycled Works:</strong> 20 pts</li>
                    </ul>
                    
                    <h4 class="text-xl font-bold text-gray-800 mb-2">Reducing Waste (Criteria for 30 pts)</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-700 mb-4 ml-4">
                        <li>Highest accuracy in sorting paper from general waste.</li>
                        <li>Greatest percentage decrease in total classroom waste.</li>
                        <li>Creative and practical ideas for reducing waste in school.</li>
                    </ul>
                    
                    <h4 class="text-xl font-bold text-gray-800 mb-2">Junk to Joy Competition (Criteria for 20 pts)</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6 ml-4">
                        <li>No using new materials.</li>
                        <li>Upcycling waste/extra materials (Creativity and usefulness).</li>
                    </ul>
                    
                    <div class="bg-green-50 p-4 rounded-lg border border-green-200 mb-6">
                        <h4 class="text-lg font-bold text-dark-green mb-2">Junk to Joy Competition: How it Works (Individuals)</h4>
                        <ul class="list-disc list-inside text-gray-700 text-sm ml-4 space-y-1">
                            <li>Make a team of 2‚Äì3 friends.ü§ù</li>
                            <li>Every week, you‚Äôll get a fun theme ‚Äî use things at home to create something new and record a short 40-second video.üé•</li>
                            <li>Submit your team names and videos to the waste warriors or the Sooryodaya Interact Club members.</li>
                            <li>Volunteers will come at the end of the week to collect your project.üìÖ</li>
                            <li>You can work with different friends each week, to increase chances of winning! üëØ‚Äç‚ôÇÔ∏è</li>
                            <li>The best projects will be displayed at the Eco Bazaar on November 3, prizes will be given to the winners of the exhibition.üèÜ</li>
                        </ul>
                    </div>

                    <p class="border-t pt-4 text-gray-700">
                        <strong class="text-dark-green">Prizes:</strong> 1st, 2nd and 3rd place will get their Respective Position's Badge!
                    </p>
                    <p class="text-blue-600 mt-2 text-sm">
                         Visit our <a href="https://www.canva.com/design/DAG2fRrQiN8/kdinDwTS2ubo_RA2yIgLSQ/edit?utm_content=DAG2fRrQiN8&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton" target="_blank" class="font-bold underline">Competition Guidelines</a> page for more details.
                    </p>
                    <!-- NEW STRUCTURE END -->

                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-bold text-dark-green mb-4">Live Leaderboard</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead>
                                <tr class="bg-green-100"> <!-- Changed bg-green-50 to bg-green-100 for more green -->
                                    <th class="p-3 font-semibold">Rank</th>
                                    <th class="p-3 font-semibold">Class</th>
                                    <th class="p-3 font-semibold text-primary">Total Score (pts)</th>
                                </tr>
                            </thead>
                            <tbody id="leaderboard-body">
                                <!-- Leaderboard data will be generated here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- UPDATED EXTRAS SECTION: Only Contact and Materials remain (grid adjusted) -->
        <section id="extras" class="py-16 md:py-24 scroll-reveal content-section">
            <h2 class="text-4xl lg:text-5xl font-extrabold text-center section-header mb-12">Extras & Contact</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                
                <!-- CONTACT CARD -->
                <div class="card p-6 col-span-1">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                        üìû Contact Info
                    </h3>
                    <p class="text-gray-600 mb-2">
                        For any queries regarding the initiative or data, please contact:
                    </p>
                    <p class="font-semibold text-lg text-primary">Grade 7 Waste Warriors <br>Tejas (Grade 7B)</p>
                </div>

                <!-- MATERIALS CARD (Renamed from Survey Results) -->
                <div class="card p-6 col-span-1">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                        üìö Materials
                    </h3>
                    <div class="space-y-4">
                        <!-- Survey Results Link -->
                        <a href="https://bit.ly/4nKoSdR" target="_blank" class="block w-full text-center py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition shadow-md">
                            View Survey Results (DOC)
                        </a>
                        
                        <!-- NEW: Waste Management Tips Button -->
                        <a href="https://www.canva.com/design/DAG1lXrZgxQ/AUY0NqXKXaFGim_0RhtEQw/view?utm_content=DAG1lXrZgxQ&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h5b1699a014" target="_blank" class="block w-full text-center py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition shadow-md">
                            Waste Management Tips
                        </a>

                        <!-- Placeholder for future buttons(a target="_blank" class="block w-full text-center py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition shadow-md") -->
                    </div>
                </div>
            </div>
        </section>

    </main>

    <div id="did-you-know-popup" class="did-you-know-popup">
        <span class="close-btn">&times;</span>
        <h4 class="font-bold text-lg mb-2 text-primary">üí° Did You Know?</h4>
        <p id="fact-text" class="text-gray-600 text-sm"></p>
        <!-- REMOVED: Image tag for cleaner popup -->
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
             // =========================================================================================
            //  MANUAL DATA UPDATE SECTION
            //  -----------------------------------------------------------------------------------------
            //  WHEN YOU NEED TO UPDATE THE DASHBOARD, EDIT THE NUMBERS IN THESE TWO SECTIONS ONLY!
            // =========================================================================================

            // A. DAILY WASTE DATA FOR THE CHART (Max 8 days)
            //    - The index (0, 1, 2, etc.) corresponds to the day number (Day 1, Day 2, Day 3...).
            //    - The arrays MUST be 8 items long to align with the chart labels.
            
            const chartLabels = Array.from({ length: 20 }, (_, i) => `Day ${i + 1}`);

            // 1. Total Classroom Waste (in kg) for each day (8 ENTRIES)
            //    EXAMPLE: [Day 1: 15.2, Day 2: 14.5, Day 3: 13.0, Day 4: 13.5, Day 5: 12.0, Day 6: 11.0, Day 7: 10.5, Day 8: null]
            let totalWasteData = [
                6, 6, 7, 8, 5, 8, 3, 3, 4, 4,2,5,3,4,3,9
            ];

            // 2. Total Paper Recycled (in kg) for each day (8 ENTRIES)
            //    EXAMPLE: [Day 1: 3.5, Day 2: 4.0, Day 3: 5.5, Day 4: 5.2, Day 5: 6.8, Day 6: 7.0, Day 7: 7.5, Day 8: null]
            let paperWasteData = [
                0.0,  0.0, 0.0, 0.0, 1, 2, 1, 2, 0, 1, 0,0,1,2,0,0
            ];


            // B. LEADERBOARD DATA (Update these scores for the challenge results)
            //    - The script will automatically calculate 'total_score' and sort the classes by it.
            //    - Update 'paper', 'waste_reduction', and 'upcycle_points' below.
            
            let participants = [
                // Update paper (kg), waste_reduction (pts), and upcycle_points (pts)
				{ class: 'Grade 6A', total_score: 130 }, 
                { class: 'Grade 6B', total_score: 142 }, 
                { class: 'Grade 6C', total_score: 118 },
                { class: 'Grade 7A', total_score: 104 }, 
                { class: 'Grade 7B', total_score: 122 }, 
                { class: 'Grade 7C', total_score: 118 }, 
				{ class: 'Grade 8A', total_score: 102 }, 
                { class: 'Grade 8B', total_score: 102 }, 
            ];
            
            // Calculate Total Score for each participant
            // REMOVED: Automatic calculation is now removed.
            
            // =========================================================================================
            //  END OF MANUAL DATA UPDATE SECTION - NO NEED TO EDIT CODE BELOW HERE
            // =========================================================================================



            // --- GLOBAL CONSTANTS ---
            
            // NOTE: Removed 'image' property from facts array since it's no longer used.
            const facts = [
                { text: "Recycling one ton of paper saves 17 trees, 7,000 gallons of water, and 463 gallons of oil!" },
                { text: "The average person generates about 4.9 pounds of trash per day." },
                { text: "It takes about 500 years for a plastic bottle to decompose in a landfill." }
            ];


            // --- UI RENDERING FUNCTIONS ---

            // Chart.js Chart 
            let wasteChart; 

            function renderCharts() {
                const ctx = document.getElementById('wasteChart').getContext('2d');
                
                // --- FIX: Get CSS variable values using JS ---
                const style = getComputedStyle(document.documentElement);
                const primaryColor = style.getPropertyValue('--primary').trim();
                const primaryColorRgba = 'rgba(139, 195, 74, 0.15)'; // Manually match the lightest green color code for Chart BG
                // --- END FIX ---

                wasteChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: chartLabels,
                        datasets: [{
                            label: 'Total Waste (kg)',
                            data: totalWasteData,
                            borderColor: '#DC2626',
                            backgroundColor: 'rgba(220, 38, 38, 0.1)',
                            fill: true,
                            tension: 0.3
                        },
                        {
                            label: 'Paper Waste Recycled (kg)',
                            data: paperWasteData,
                            borderColor: primaryColor, /* FIXED: Used JS variable */
                            backgroundColor: primaryColorRgba, /* FIXED: Used JS variable */
                            fill: true,
                            tension: 0.3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Weight (kg)'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false
                            }
                        }
                    }
                });
                
                // REMOVED: CHART BUTTON LOGIC (buttons removed from HTML)
            }

            function renderLeaderboard() {
                const tbody = document.getElementById('leaderboard-body');
                tbody.innerHTML = '';
                
                // Calculate total recycled paper for logic check inside this function
                const totalPaperRecycledValue = paperWasteData.reduce((sum, current) => sum + (current || 0), 0);
                
                // NOTE: This check is now relaxed to allow the table to render rows even if scores are 0.
                if (participants.length === 0) {
                    // Colspan must match the number of visible columns (Rank, Class, Total Score = 3)
                    tbody.innerHTML = `<tr><td colspan="3" class="p-3 text-center text-gray-500 font-medium">No participating classes found.</td></tr>`;
                    return;
                }

                // Sorting is done in the Initialization block before this function is called.

                participants.forEach((data, index) => {
                    const rank = index + 1;
                    const totalScore = data.total_score.toFixed(1); // Use manual total score

                    let rankClass = '';
                    // Use index >= 0 to ensure classes 1, 2, and 3 get styling
                    if (index === 0) rankClass = 'bg-yellow-100 font-extrabold';
                    else if (index === 1) rankClass = 'bg-gray-100 font-bold';
                    else if (index === 2) rankClass = 'bg-amber-50 font-semibold';
                    
                    const row = document.createElement('tr');
                    row.className = `border-b transition duration-150 ${rankClass}`;
                    
                    // RENDER ONLY: Rank, Class, and Total Score
                    row.innerHTML = `
                        <td class="p-3 text-lg">${rank}</td>
                        <td class="p-3 font-semibold text-gray-800">${data.class}</td>
                        <td class="p-3 text-lg font-extrabold text-dark-green">${totalScore}</td>
                    `;
                    tbody.appendChild(row);
                });
            }

            // "Did You Know?" Pop-up Logic (UPDATED for looping)
            function setupDidYouKnowPopup() {
                const popup = document.getElementById('did-you-know-popup');
                const closeBtn = popup.querySelector('.close-btn');
                const factText = document.getElementById('fact-text');
                
                let currentFactIndex = -1;
                const showDuration = 3000; // 3 seconds visible
                const intervalDuration = 3000; // 3 seconds hidden
                
                // Allows users to manually close the popup if they want
                closeBtn.addEventListener('click', () => {
                    popup.classList.remove('show');
                });

                // Looping function to cycle facts
                const cycleFacts = () => {
                    // 1. Calculate next index (loops back to 0 when it reaches the end)
                    currentFactIndex = (currentFactIndex + 1) % facts.length;
                    const nextFact = facts[currentFactIndex];
                    
                    // 2. Show: Update text and display popup
                    factText.textContent = nextFact.text;
                    popup.classList.add('show');
                    
                    // 3. Hide: After showDuration (3 seconds), hide the popup
                    setTimeout(() => {
                        popup.classList.remove('show');
                        
                        // 4. Restart Cycle: After intervalDuration (3 seconds hidden), call cycleFacts again
                        setTimeout(cycleFacts, intervalDuration);
                    }, showDuration);
                };
                
                // Start the cycle after a brief initial delay
                setTimeout(cycleFacts, 1000); 
            }

            // Scroll Reveal Animation
            function setupScrollReveal() {
                const revealElements = document.querySelectorAll('.scroll-reveal');
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, {
                    threshold: 0.1
                });
                revealElements.forEach(el => observer.observe(el));
            }

            // Tabbed Navigation Logic
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');

            // Mobile Menu Toggle Logic
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            function switchTab(targetId) {
                contentSections.forEach(section => {
                    section.classList.toggle('active', section.id === targetId);
                });
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.dataset.target === targetId);
                });
                if (window.innerWidth <= 768) {
                    mobileMenu.classList.add('hidden');
                }
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchTab(link.dataset.target);
                    // Scroll to the top of the new section for better UX on mobile
                    document.getElementById(link.dataset.target).scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            });

            // Phase Card Interactions (Original Logic)
            const phaseCards = document.querySelectorAll('.phase-card');
            const phaseDetailsContainer = document.getElementById('phase-details');

            function updatePhaseDetails(phase) {
                const details = {
                    '1': {
                        title: 'Phase 1: Preparation & Setup (COMPLETED)',
                        content: `
                            <ul class="list-disc list-inside space-y-2 text-gray-500">
                                <li><span class="text-gray-500"><strike><strong>Form Core Team:</strong> Establish a team of student leaders.</strike></span></li>
                                <li><span class="text-gray-500"><strike><strong>Define Competition:</strong> Set clear rules and prizes for the competition focusing on segregation accuracy and waste reduction.</strike></span></li>
                                <li><span class="text-gray-500"><strike><strong>Design Survey:</strong> Draft a concise survey for cleaners to understand current challenges.</strike></span></li>
                                <li><span class="text-gray-500"><strike><strong>Develop Materials:</strong> Create engaging visual aids and presentations for junior classes.</strike></span></li>
                                <li><span class="text-gray-500"><strike><strong>Conduct Surveys:</strong> The team will interview the school cleaners and teachers to gather insights.</strike></span></li>
                            </ul>`
                    },
                    '2': {
                        title: 'Phase 2: Implementation Kick-off',
                        content: `
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Launch Initiative:</strong> Announce the "Waste Warriors" initiative during school assembly and raise awareness about waste management.</li>
                                <li><strong>Coordinate Logistics:</strong> Contact the paper recycling plant and ensure all equipment (bins, scales) is ready.</li>
                                <li><strong>Start Competition:</strong> Officially begin the competition.</li>
                                <li><strong>Begin Daily Measurement:</strong> Start the two-week process of weighing classroom waste daily.</li>
                                <li><strong>Educate Juniors:</strong> Grade 7 student volunteers begin visiting junior classes to teach waste sorting and maintain daily collection and weighing of waste.</li>
                            </ul>`
                    },
                    '3': {
                        title: 'Phase 3: Sustained Efforts, Analysis & Conclusion',
                        content: `
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Monitor Competition:</strong> Check in with competing classes to offer encouragement and ensure rules are followed.</li>
                                <li><strong>Analyze Data:</strong> Compile two weeks of data to calculate the overall waste reduction percentage and update the site.</li>
                                <li><strong>Select Winners:</b> Evaluate competition participants and select the winning class.</li>
                                <li><strong>Announce Results:</strong> In the assembly, share the fantastic results with the whole school.</li>
                                <li><strong>Recognize Efforts:</strong> Announce winners, present prizes, and thank everyone involved, especially the cleaning staff.</li>
                            </ul>`
                    }
                };
                // Renamed from 'details' to 'phaseData' to avoid conflict with the 'details' constant above.
                const phaseData = details[phase];
                phaseDetailsContainer.innerHTML = `<h3 class="text-2xl font-bold text-gray-800 mb-4">${phaseData.title}</h3>${phaseData.content}`;
                phaseCards.forEach(card => {
                    card.classList.toggle('active', card.dataset.phase === phase);
                });
            }

            phaseCards.forEach(card => {
                card.addEventListener('click', () => {
                    updatePhaseDetails(card.dataset.phase);
                });
            } );

            updatePhaseDetails('2'); // Initialize with Phase 2 details


            // Number Counting Animation
            function animateCount(element) {
                const endValue = parseInt(element.dataset.countTo, 10);
                let startTimestamp = null;
                const duration = 1500;
                function step(timestamp) {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = timestamp - startTimestamp;
                    const percentage = Math.min(progress / duration, 1);
                    const currentValue = Math.floor(percentage * endValue);
                    element.textContent = currentValue;
                    if (percentage < 1) {
                        window.requestAnimationFrame(step);
                    }
                }
                window.requestAnimationFrame(step);
            }
            document.querySelectorAll('[data-count-to]').forEach(animateCount);


            // --- INITIALIZATION ---
            
            // Calculate total recycled paper and sort participants (must run before renderLeaderboard)
            const totalPaperRecycledValue = paperWasteData.reduce((sum, current) => sum + (current || 0), 0);
            document.getElementById('total-paper-recycled').dataset.countTo = Math.round(totalPaperRecycledValue);
            
            // Now sort by total_score (This is the only line we need here)
            // Sorting uses the manual 'total_score' field provided in Section B.
            participants.sort((a, b) => b.total_score - a.total_score);

            renderCharts();
            renderLeaderboard(); 
            setupDidYouKnowPopup(); // Starts the continuous fact cycle
            setupScrollReveal();

            // Initial active tab
            switchTab('overview');
        });
    </script>
</body>
</html>







